<!DOCTYPE html>
<html lang="en">
    <head>
        <title>LibreSprite</title>
        <link rel="shortcut icon" href="assets/ase.ico" />

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/fork-awesome/css/fork-awesome.min.css"
            integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY="
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body class="container">
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3">
            <div class="container">
                <img
                    src="assets/ase.ico"
                    alt=""
                    srcset=""
                    id="nav_img"
                    width="64px"
                    height="64px"
                />
                <a class="navbar-brand" href="#">LibreSprite</a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNav"
                    aria-controls="navbarNav"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav my-2 my-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="#!/features">Features</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#!/downloads"
                                >Downloads</a
                            >
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="#!/resources"
                                >Resources</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#!/news">News</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#!/about">About</a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                href="https://github.com/LibreSprite/libresprite.github.io/wiki"
                                >Wiki</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <main class="px-3 py-3 pt-md-5 mx-auto text-center">
            <div id="app"></div>
        </main>
        <footer class="pt-4 my-md-2 border-top">
            <div class="text-center center-block" id="community">
                <h3>Social Networks</h3>
                <a href="https://github.com/LibreSprite/LibreSprite"
                    ><i class="fa fa-github fa-4x social"></i
                ></a>
                <a href="https://discord.gg/95gbyU5"
                    ><i class="fa fa-discord fa-4x social"></i
                ></a>
                <a href="https://matrix.to/#/%23libresprite:matrix.org"
                    ><i class="fa fa-matrix-org fa-4x social"></i
                ></a>
            </div>
            <br />
            <p class="text-center">
                This program is distributed under the
                <a
                    href="https://github.com/LibreSprite/LibreSprite/blob/master/LICENSE.txt"
                    >GNU General Public License Version 2
                </a>
                | Website Designed With ❤️
            </p>
        </footer>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script>
        <script>
            const originalTitle = document.title;
            const app = document.getElementById("app");

            function navigate(page) {
                if (page == "") page = "home";

                fetch("pages/" + page + ".html")
                    .then((rep) => {
                        if (rep.ok) return rep.text();
                        else return false;
                    })
                    .then((data) => {
                        if (typeof data == "string") {
                            app.innerHTML = data;

                            // workaround for load scripts of a page (from https://stackoverflow.com/a/76003)
                            const scripts = app.getElementsByTagName("script");
                            for (let i = 0; i < scripts.length; i++)
                                eval(scripts[i].text);
                        } else
                            app.innerHTML = `
                <h1>There was a problem when we trying to load this page</h1>
                <p>Maybe try later?</p>`;
                    });
            }

            function autoNav() {
                if (
                    window.location.hash.startsWith("#!/") ||
                    window.location.hash == ""
                )
                    navigate(window.location.hash.substring(3));
            }

            window.addEventListener("hashchange", () => {
                autoNav();
            });
            autoNav();
        </script>
    </body>
</html>
